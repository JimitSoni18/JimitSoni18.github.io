---
import Navbar from "../components/Navbar.astro";
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=100%, initial-scale=1" />
		<link rel="shortcut icon" href="favicon.jpeg" type="image/x-icon" />
		<title>{Astro.props.title || "Jimit's portfolio"}</title>
	</head>
	<body>
		<div class="top-bar">
			<header>{Astro.props.header || "Welcome"}</header>
			<Navbar />
		</div>
		<main>
			<slot>default content</slot>
		</main>
	</body>
</html>

<style>
	.top-bar {
		position: sticky;
		top: 0;
		background-color: transparent;
		backdrop-filter: blur(25px);
	}

	header {
		font-weight: 500;
		text-align: center;
		background-color: var(--primary-color);
	}
</style>

<style lang="scss" is:global>
	@use "sass:list";
	@use "sass:map";

	:root {
		--background-color: #121212;
		--primary-color: #7241f7;
		--button-default: #ffffff;
		--button-hover: #683df6;
		--button-active: #6232ff;
		--button-hover-shadow: #683df6fa;
		--alt-button-default: #ff6f61;
		--alt-button-hover: #ffffff;
		--link-color: #bdc3c7;
		--link-hover: #ecf0f1;
		--accent-color: #e74c3c;
		--cta-color: #2ecc71;
		--text-color: #ecf0f1;
	}

	body {
		background-color: var(--background-color);
		color: var(--text-color);
		margin: 0;
	}

	a {
		color: var(--link-color);

		&:hover {
			color: var(--link-hover);
		}

		transition: color 150ms ease;
	}

	button,
	.btn {
		outline: none;
		border: none;
		cursor: pointer;
		transition: background-color 150ms ease;
		padding: 0.5rem 1rem;
		border-radius: 0.35rem;
	}

	.btn-default {
		background-color: var(--button-default);
		color: #3f3f3f;

		&:hover {
			background-color: var(--button-hover);
			color: #fff;
		}
	}

	.btn-alt {
		background-color: var(--alt-button-default);
		color: #fff;

		&:hover {
			background-color: var(--alt-button-hover);
			color: #3f3f3f;
		}
	}

	.cta-button {
		background-color: var(--cta-color);
		color: #fff;

		&:hover {
			background-color: #1d995b; /* Manually calculated darker color */
		}
	}

	$font-sizes: (
		640px: (
			(h1, ".header"): 32px,
			(h2, ".sub-header"): 28px,
			(h4, ".title"): 22px,
			(p ".content"): 16px,
			(small, ".caption"): 14px,
		),
		768px: (
			(h1, ".header"): 36px,
			(h2, ".sub-header"): 32px,
			(h4, ".title"): 24px,
			(p ".content"): 18px,
			(small, ".caption"): 16px,
		),
		1024px: (
			(h1, ".header"): 40px,
			(h2, ".sub-header"): 36px,
			(h4, ".title"): 28px,
			(p ".content"): 20px,
			(small, ".caption"): 18px,
		),
		1280px: (
			(h1, ".header"): 44px,
			(h2, ".sub-header"): 40px,
			(h4, ".title"): 32px,
			(p ".content"): 22px,
			(small, ".caption"): 20px,
		),
		1536px: (
			(h1, ".header"): 48px,
			(h2, ".sub-header"): 44px,
			(h4, ".title"): 36px,
			(p ".content"): 24px,
			(small, ".caption"): 22px,
		),
		1848px: (
			(h1, ".header"): 52px,
			(h2, ".sub-header"): 48px,
			(h4, ".title"): 40px,
			(p ".content"): 26px,
			(small, ".caption"): 24px,
		),
	);

	h1,
	.header {
		font-size: 28px;
	}
	h2,
	.sub-header {
		font-size: 24px;
	}
	h4,
	.title {
		font-size: 18px;
	}
	p,
	b,
	.content {
		font-size: 14px;
	}
	small,
	.caption {
		font-size: 12px;
	}

	@each $breakpoint, $font-size-map in $font-sizes {
		@media (min-width: $breakpoint) {
			@each $selector, $size in $font-size-map {
				#{$selector} {
					font-size: $size;
				}
			}
		}
	}
</style>
